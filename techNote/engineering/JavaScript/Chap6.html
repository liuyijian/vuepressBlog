<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Chap6 集合引用类型 | lyj Blog</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.0/katex.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/github-markdown-css/4.0.0/github-markdown.min.css">
    <meta name="description" content="我来到，我看见，我记录">
    
    <link rel="preload" href="/vuepressBlog/assets/css/0.styles.bc106160.css" as="style"><link rel="preload" href="/vuepressBlog/assets/js/app.f56b1216.js" as="script"><link rel="preload" href="/vuepressBlog/assets/js/2.ab72813d.js" as="script"><link rel="preload" href="/vuepressBlog/assets/js/86.3596a245.js" as="script"><link rel="prefetch" href="/vuepressBlog/assets/js/10.9eed6c81.js"><link rel="prefetch" href="/vuepressBlog/assets/js/100.5f081594.js"><link rel="prefetch" href="/vuepressBlog/assets/js/101.d96da275.js"><link rel="prefetch" href="/vuepressBlog/assets/js/102.5d1bc312.js"><link rel="prefetch" href="/vuepressBlog/assets/js/103.4aef6342.js"><link rel="prefetch" href="/vuepressBlog/assets/js/104.92386ced.js"><link rel="prefetch" href="/vuepressBlog/assets/js/105.39aa5af2.js"><link rel="prefetch" href="/vuepressBlog/assets/js/106.a3421c85.js"><link rel="prefetch" href="/vuepressBlog/assets/js/107.f0d7196a.js"><link rel="prefetch" href="/vuepressBlog/assets/js/108.bb025ff3.js"><link rel="prefetch" href="/vuepressBlog/assets/js/109.4d2f2aa7.js"><link rel="prefetch" href="/vuepressBlog/assets/js/11.3efe2d15.js"><link rel="prefetch" href="/vuepressBlog/assets/js/110.f2828cfb.js"><link rel="prefetch" href="/vuepressBlog/assets/js/111.8498742b.js"><link rel="prefetch" href="/vuepressBlog/assets/js/112.f0f06de0.js"><link rel="prefetch" href="/vuepressBlog/assets/js/113.d047f912.js"><link rel="prefetch" href="/vuepressBlog/assets/js/114.19dd7b00.js"><link rel="prefetch" href="/vuepressBlog/assets/js/115.9710e0f8.js"><link rel="prefetch" href="/vuepressBlog/assets/js/116.80355b6e.js"><link rel="prefetch" href="/vuepressBlog/assets/js/117.a2fdf1eb.js"><link rel="prefetch" href="/vuepressBlog/assets/js/118.d635900c.js"><link rel="prefetch" href="/vuepressBlog/assets/js/119.3960828f.js"><link rel="prefetch" href="/vuepressBlog/assets/js/12.bef5444f.js"><link rel="prefetch" href="/vuepressBlog/assets/js/120.0341e8cb.js"><link rel="prefetch" href="/vuepressBlog/assets/js/13.b90b69a2.js"><link rel="prefetch" href="/vuepressBlog/assets/js/14.7330dbb9.js"><link rel="prefetch" href="/vuepressBlog/assets/js/15.01d5105f.js"><link rel="prefetch" href="/vuepressBlog/assets/js/16.f186e6cf.js"><link rel="prefetch" href="/vuepressBlog/assets/js/17.4bb37c83.js"><link rel="prefetch" href="/vuepressBlog/assets/js/18.8069bd11.js"><link rel="prefetch" href="/vuepressBlog/assets/js/19.332d88f8.js"><link rel="prefetch" href="/vuepressBlog/assets/js/20.4b78c384.js"><link rel="prefetch" href="/vuepressBlog/assets/js/21.c51015c3.js"><link rel="prefetch" href="/vuepressBlog/assets/js/22.73e5c7e7.js"><link rel="prefetch" href="/vuepressBlog/assets/js/23.d69ce691.js"><link rel="prefetch" href="/vuepressBlog/assets/js/24.e5955784.js"><link rel="prefetch" href="/vuepressBlog/assets/js/25.c2d5a559.js"><link rel="prefetch" href="/vuepressBlog/assets/js/26.02bd5b9f.js"><link rel="prefetch" href="/vuepressBlog/assets/js/27.b30bf25c.js"><link rel="prefetch" href="/vuepressBlog/assets/js/28.d44028b4.js"><link rel="prefetch" href="/vuepressBlog/assets/js/29.b74b30c3.js"><link rel="prefetch" href="/vuepressBlog/assets/js/3.5df936c5.js"><link rel="prefetch" href="/vuepressBlog/assets/js/30.0eaba9f7.js"><link rel="prefetch" href="/vuepressBlog/assets/js/31.6a5eb3cb.js"><link rel="prefetch" href="/vuepressBlog/assets/js/32.aa09a07f.js"><link rel="prefetch" href="/vuepressBlog/assets/js/33.2b0b262a.js"><link rel="prefetch" href="/vuepressBlog/assets/js/34.329659e8.js"><link rel="prefetch" href="/vuepressBlog/assets/js/35.3745ba95.js"><link rel="prefetch" href="/vuepressBlog/assets/js/36.a14454ac.js"><link rel="prefetch" href="/vuepressBlog/assets/js/37.27c36d0f.js"><link rel="prefetch" href="/vuepressBlog/assets/js/38.876f28b6.js"><link rel="prefetch" href="/vuepressBlog/assets/js/39.027e0358.js"><link rel="prefetch" href="/vuepressBlog/assets/js/4.6fcabf8c.js"><link rel="prefetch" href="/vuepressBlog/assets/js/40.40af0b9e.js"><link rel="prefetch" href="/vuepressBlog/assets/js/41.432bc353.js"><link rel="prefetch" href="/vuepressBlog/assets/js/42.0735282f.js"><link rel="prefetch" href="/vuepressBlog/assets/js/43.808e4400.js"><link rel="prefetch" href="/vuepressBlog/assets/js/44.c83ea705.js"><link rel="prefetch" href="/vuepressBlog/assets/js/45.87366edc.js"><link rel="prefetch" href="/vuepressBlog/assets/js/46.ccb355d1.js"><link rel="prefetch" href="/vuepressBlog/assets/js/47.17766439.js"><link rel="prefetch" href="/vuepressBlog/assets/js/48.c1b2231e.js"><link rel="prefetch" href="/vuepressBlog/assets/js/49.7cf87bd6.js"><link rel="prefetch" href="/vuepressBlog/assets/js/5.1d5afe99.js"><link rel="prefetch" href="/vuepressBlog/assets/js/50.dc2e2ab2.js"><link rel="prefetch" href="/vuepressBlog/assets/js/51.308ec957.js"><link rel="prefetch" href="/vuepressBlog/assets/js/52.bcc89c42.js"><link rel="prefetch" href="/vuepressBlog/assets/js/53.9da1ffe7.js"><link rel="prefetch" href="/vuepressBlog/assets/js/54.8e7dfc3b.js"><link rel="prefetch" href="/vuepressBlog/assets/js/55.1069b348.js"><link rel="prefetch" href="/vuepressBlog/assets/js/56.63c31bec.js"><link rel="prefetch" href="/vuepressBlog/assets/js/57.43957ae8.js"><link rel="prefetch" href="/vuepressBlog/assets/js/58.821b32f3.js"><link rel="prefetch" href="/vuepressBlog/assets/js/59.bde8fcb5.js"><link rel="prefetch" href="/vuepressBlog/assets/js/6.b0f500a7.js"><link rel="prefetch" href="/vuepressBlog/assets/js/60.7ff21b0c.js"><link rel="prefetch" href="/vuepressBlog/assets/js/61.dfa018d7.js"><link rel="prefetch" href="/vuepressBlog/assets/js/62.1721b5e6.js"><link rel="prefetch" href="/vuepressBlog/assets/js/63.e8e2f30a.js"><link rel="prefetch" href="/vuepressBlog/assets/js/64.32c989f0.js"><link rel="prefetch" href="/vuepressBlog/assets/js/65.60c8af0a.js"><link rel="prefetch" href="/vuepressBlog/assets/js/66.62cab702.js"><link rel="prefetch" href="/vuepressBlog/assets/js/67.b707577a.js"><link rel="prefetch" href="/vuepressBlog/assets/js/68.067196f9.js"><link rel="prefetch" href="/vuepressBlog/assets/js/69.8b35ff43.js"><link rel="prefetch" href="/vuepressBlog/assets/js/7.a8ca3df7.js"><link rel="prefetch" href="/vuepressBlog/assets/js/70.7e0d94f2.js"><link rel="prefetch" href="/vuepressBlog/assets/js/71.21231050.js"><link rel="prefetch" href="/vuepressBlog/assets/js/72.5b8cdc82.js"><link rel="prefetch" href="/vuepressBlog/assets/js/73.f0321bc0.js"><link rel="prefetch" href="/vuepressBlog/assets/js/74.edc5907b.js"><link rel="prefetch" href="/vuepressBlog/assets/js/75.0156c06a.js"><link rel="prefetch" href="/vuepressBlog/assets/js/76.c4cfc515.js"><link rel="prefetch" href="/vuepressBlog/assets/js/77.30068420.js"><link rel="prefetch" href="/vuepressBlog/assets/js/78.e34c8bec.js"><link rel="prefetch" href="/vuepressBlog/assets/js/79.1c1dbaf4.js"><link rel="prefetch" href="/vuepressBlog/assets/js/8.3b2f8dd6.js"><link rel="prefetch" href="/vuepressBlog/assets/js/80.dc410709.js"><link rel="prefetch" href="/vuepressBlog/assets/js/81.e81302d0.js"><link rel="prefetch" href="/vuepressBlog/assets/js/82.015e8844.js"><link rel="prefetch" href="/vuepressBlog/assets/js/83.eb7918df.js"><link rel="prefetch" href="/vuepressBlog/assets/js/84.96339c4c.js"><link rel="prefetch" href="/vuepressBlog/assets/js/85.96056f54.js"><link rel="prefetch" href="/vuepressBlog/assets/js/87.d9eb85e8.js"><link rel="prefetch" href="/vuepressBlog/assets/js/88.263f3366.js"><link rel="prefetch" href="/vuepressBlog/assets/js/89.78954abc.js"><link rel="prefetch" href="/vuepressBlog/assets/js/9.9c42df11.js"><link rel="prefetch" href="/vuepressBlog/assets/js/90.e6cccc3c.js"><link rel="prefetch" href="/vuepressBlog/assets/js/91.94a6f84e.js"><link rel="prefetch" href="/vuepressBlog/assets/js/92.d28017b6.js"><link rel="prefetch" href="/vuepressBlog/assets/js/93.f100a913.js"><link rel="prefetch" href="/vuepressBlog/assets/js/94.a36bdb42.js"><link rel="prefetch" href="/vuepressBlog/assets/js/95.a454bc8f.js"><link rel="prefetch" href="/vuepressBlog/assets/js/96.fac107e5.js"><link rel="prefetch" href="/vuepressBlog/assets/js/97.81bee727.js"><link rel="prefetch" href="/vuepressBlog/assets/js/98.b3bb60de.js"><link rel="prefetch" href="/vuepressBlog/assets/js/99.b381ecc1.js">
    <link rel="stylesheet" href="/vuepressBlog/assets/css/0.styles.bc106160.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/vuepressBlog/" class="home-link router-link-active"><!----> <span class="site-name">lyj Blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/vuepressBlog/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="TechNote" class="dropdown-title"><span class="title">技术笔记</span> <span class="arrow down"></span></button> <button type="button" aria-label="TechNote" class="mobile-dropdown-title"><span class="title">技术笔记</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          基础知识
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/vuepressBlog/techNote/basic/algorithms/" class="nav-link">
  基础算法
</a></li><li class="dropdown-subitem"><a href="/vuepressBlog/techNote/basic/network/" class="nav-link">
  网络原理
</a></li><li class="dropdown-subitem"><a href="/vuepressBlog/techNote/basic/os/" class="nav-link">
  操作系统
</a></li></ul></li><li class="dropdown-item"><h4>
          算法研究
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/vuepressBlog/techNote/algorithms/recommendation_system/" class="nav-link">
  推荐系统
</a></li><li class="dropdown-subitem"><a href="/vuepressBlog/techNote/algorithms/knowledge_graph/" class="nav-link">
  知识图谱
</a></li><li class="dropdown-subitem"><a href="/vuepressBlog/techNote/algorithms/nlp/" class="nav-link">
  自然语言处理
</a></li></ul></li><li class="dropdown-item"><h4>
          工程实践
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/vuepressBlog/techNote/engineering/Redis/" class="nav-link">
  Redis
</a></li><li class="dropdown-subitem"><a href="/vuepressBlog/techNote/engineering/Nginx/" class="nav-link">
  Nginx
</a></li><li class="dropdown-subitem"><a href="/vuepressBlog/techNote/engineering/FFmpeg/" class="nav-link">
  FFmpeg
</a></li><li class="dropdown-subitem"><a href="/vuepressBlog/techNote/engineering/Python/" class="nav-link">
  Python
</a></li><li class="dropdown-subitem"><a href="/vuepressBlog/techNote/engineering/JavaScript/" class="nav-link router-link-active">
  JavaScript
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="InvestNote" class="dropdown-title"><span class="title">投资心得</span> <span class="arrow down"></span></button> <button type="button" aria-label="InvestNote" class="mobile-dropdown-title"><span class="title">投资心得</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/vuepressBlog/investNote/economic/" class="nav-link">
  经济
</a></li><li class="dropdown-item"><!----> <a href="/vuepressBlog/investNote/chan/" class="nav-link">
  缠论
</a></li><li class="dropdown-item"><!----> <a href="/vuepressBlog/investNote/options/" class="nav-link">
  期权
</a></li></ul></div></div><div class="nav-item"><a href="/vuepressBlog/experience/" class="nav-link">
  项目经历
</a></div><div class="nav-item"><a href="/vuepressBlog/resource/" class="nav-link">
  资源聚合
</a></div> <a href="https://github.com/liuyijian/vuepressBlog" target="_blank" rel="noopener noreferrer" class="repo-link">
    Github
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/vuepressBlog/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="TechNote" class="dropdown-title"><span class="title">技术笔记</span> <span class="arrow down"></span></button> <button type="button" aria-label="TechNote" class="mobile-dropdown-title"><span class="title">技术笔记</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          基础知识
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/vuepressBlog/techNote/basic/algorithms/" class="nav-link">
  基础算法
</a></li><li class="dropdown-subitem"><a href="/vuepressBlog/techNote/basic/network/" class="nav-link">
  网络原理
</a></li><li class="dropdown-subitem"><a href="/vuepressBlog/techNote/basic/os/" class="nav-link">
  操作系统
</a></li></ul></li><li class="dropdown-item"><h4>
          算法研究
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/vuepressBlog/techNote/algorithms/recommendation_system/" class="nav-link">
  推荐系统
</a></li><li class="dropdown-subitem"><a href="/vuepressBlog/techNote/algorithms/knowledge_graph/" class="nav-link">
  知识图谱
</a></li><li class="dropdown-subitem"><a href="/vuepressBlog/techNote/algorithms/nlp/" class="nav-link">
  自然语言处理
</a></li></ul></li><li class="dropdown-item"><h4>
          工程实践
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/vuepressBlog/techNote/engineering/Redis/" class="nav-link">
  Redis
</a></li><li class="dropdown-subitem"><a href="/vuepressBlog/techNote/engineering/Nginx/" class="nav-link">
  Nginx
</a></li><li class="dropdown-subitem"><a href="/vuepressBlog/techNote/engineering/FFmpeg/" class="nav-link">
  FFmpeg
</a></li><li class="dropdown-subitem"><a href="/vuepressBlog/techNote/engineering/Python/" class="nav-link">
  Python
</a></li><li class="dropdown-subitem"><a href="/vuepressBlog/techNote/engineering/JavaScript/" class="nav-link router-link-active">
  JavaScript
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="InvestNote" class="dropdown-title"><span class="title">投资心得</span> <span class="arrow down"></span></button> <button type="button" aria-label="InvestNote" class="mobile-dropdown-title"><span class="title">投资心得</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/vuepressBlog/investNote/economic/" class="nav-link">
  经济
</a></li><li class="dropdown-item"><!----> <a href="/vuepressBlog/investNote/chan/" class="nav-link">
  缠论
</a></li><li class="dropdown-item"><!----> <a href="/vuepressBlog/investNote/options/" class="nav-link">
  期权
</a></li></ul></div></div><div class="nav-item"><a href="/vuepressBlog/experience/" class="nav-link">
  项目经历
</a></div><div class="nav-item"><a href="/vuepressBlog/resource/" class="nav-link">
  资源聚合
</a></div> <a href="https://github.com/liuyijian/vuepressBlog" target="_blank" rel="noopener noreferrer" class="repo-link">
    Github
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>JavaScript 学习笔记</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap1.html" class="sidebar-link">Chap1 什么是JavaScript</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap1.html#简短的历史回顾" class="sidebar-link">简短的历史回顾</a></li><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap1.html#javascript实现" class="sidebar-link">JavaScript实现</a></li></ul></li><li><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap2.html" class="sidebar-link">Chap2 HTML中的JavaScript </a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap2.html#script-元素" class="sidebar-link">&lt;script\&gt;元素</a></li><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap2.html#行内代码与外部文件" class="sidebar-link">行内代码与外部文件</a></li><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap2.html#文档模式" class="sidebar-link">文档模式</a></li><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap2.html#noscript-元素" class="sidebar-link">&lt;noscript\&gt;元素</a></li></ul></li><li><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap3.html" class="sidebar-link">Chap3 语言基础</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap3.html#语法" class="sidebar-link">语法</a></li><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap3.html#关键字与保留字" class="sidebar-link">关键字与保留字</a></li><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap3.html#变量" class="sidebar-link">变量</a></li><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap3.html#数据类型" class="sidebar-link">数据类型</a></li><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap3.html#操作符" class="sidebar-link">操作符</a></li><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap3.html#语句" class="sidebar-link">语句</a></li><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap3.html#函数" class="sidebar-link">函数</a></li></ul></li><li><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap4.html" class="sidebar-link">Chap4 变量、作用域与内存</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap4.html#原始值与引用值" class="sidebar-link">原始值与引用值</a></li><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap4.html#执行上下文与作用域" class="sidebar-link">执行上下文与作用域</a></li><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap4.html#垃圾回收" class="sidebar-link">垃圾回收</a></li><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap4.html#小结" class="sidebar-link">小结</a></li></ul></li><li><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap5.html" class="sidebar-link">Chap5 基本引用类型</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap5.html#date" class="sidebar-link">Date</a></li><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap5.html#regexp" class="sidebar-link">RegExp</a></li><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap5.html#原始值包装类型" class="sidebar-link">原始值包装类型</a></li><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap5.html#单例内置对象" class="sidebar-link">单例内置对象</a></li><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap5.html#小结" class="sidebar-link">小结</a></li></ul></li><li><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap6.html" aria-current="page" class="active sidebar-link">Chap6 集合引用类型</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap6.html#object" class="sidebar-link">Object</a></li><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap6.html#array" class="sidebar-link">Array</a></li><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap6.html#定型数组" class="sidebar-link">定型数组</a></li><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap6.html#map" class="sidebar-link">Map</a></li><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap6.html#weakmap" class="sidebar-link">WeakMap</a></li><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap6.html#set" class="sidebar-link">Set</a></li><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap6.html#weakset" class="sidebar-link">WeakSet</a></li><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap6.html#迭代与扩展操作" class="sidebar-link">迭代与扩展操作</a></li><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap6.html#小结" class="sidebar-link">小结</a></li></ul></li><li><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap7.html" class="sidebar-link">Chap7 迭代器与生成器</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap7.html#理解迭代" class="sidebar-link">理解迭代</a></li><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap7.html#迭代器模式" class="sidebar-link">迭代器模式</a></li><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap7.html#生成器" class="sidebar-link">生成器</a></li><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap7.html#小结" class="sidebar-link">小结</a></li></ul></li><li><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap8.html" class="sidebar-link">Chap8 对象、类与面向对象编程</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap8.html#理解对象" class="sidebar-link">理解对象</a></li><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap8.html#创建对象" class="sidebar-link">创建对象</a></li><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap8.html#继承" class="sidebar-link">继承</a></li><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap8.html#类" class="sidebar-link">类</a></li><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap8.html#小结" class="sidebar-link">小结</a></li></ul></li><li><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap9.html" class="sidebar-link">Chap9 代理与反射</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap9.html#代理基础" class="sidebar-link">代理基础</a></li><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap9.html#代理捕获器与反射方法" class="sidebar-link">代理捕获器与反射方法</a></li><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap9.html#代理模式" class="sidebar-link">代理模式</a></li><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap9.html#小结" class="sidebar-link">小结</a></li></ul></li><li><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap10.html" class="sidebar-link">Chap10 函数</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap10.html#箭头函数" class="sidebar-link">箭头函数</a></li><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap10.html#函数名" class="sidebar-link">函数名</a></li><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap10.html#理解参数" class="sidebar-link">理解参数</a></li><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap10.html#没有重载" class="sidebar-link">没有重载</a></li><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap10.html#默认参数值" class="sidebar-link">默认参数值</a></li><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap10.html#参数扩展与收集" class="sidebar-link">参数扩展与收集</a></li><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap10.html#函数声明与函数表达式" class="sidebar-link">函数声明与函数表达式</a></li><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap10.html#函数作为值" class="sidebar-link">函数作为值</a></li><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap10.html#函数内部" class="sidebar-link">函数内部</a></li><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap10.html#函数属性与方法" class="sidebar-link">函数属性与方法</a></li><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap10.html#函数表达式" class="sidebar-link">函数表达式</a></li><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap10.html#递归" class="sidebar-link">递归</a></li><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap10.html#尾调用优化" class="sidebar-link">尾调用优化</a></li><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap10.html#闭包" class="sidebar-link">闭包</a></li><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap10.html#立即调用的函数表达式" class="sidebar-link">立即调用的函数表达式</a></li><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap10.html#私有变量" class="sidebar-link">私有变量</a></li><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap10.html#小结" class="sidebar-link">小结</a></li></ul></li><li><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap11.html" class="sidebar-link">Chap11 期约与异步函数</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap11.html#异步编程" class="sidebar-link">异步编程</a></li><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap11.html#期约" class="sidebar-link">期约</a></li><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap11.html#异步函数" class="sidebar-link">异步函数</a></li><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap11.html#小结" class="sidebar-link">小结</a></li></ul></li><li><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap12.html" class="sidebar-link">Chap12 BOM</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap12.html#window对象" class="sidebar-link">window对象</a></li><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap12.html#location对象" class="sidebar-link">location对象</a></li><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap12.html#navigator对象" class="sidebar-link">navigator对象</a></li><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap12.html#screen对象" class="sidebar-link">screen对象</a></li><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap12.html#history对象" class="sidebar-link">history对象</a></li><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap12.html#小结" class="sidebar-link">小结</a></li></ul></li><li><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap13.html" class="sidebar-link">Chap13 客户端检测</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap13.html#能力检测" class="sidebar-link">能力检测</a></li><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap13.html#用户代理检测" class="sidebar-link">用户代理检测</a></li><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap13.html#软件与硬件检测" class="sidebar-link">软件与硬件检测</a></li><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap13.html#小结" class="sidebar-link">小结</a></li></ul></li><li><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap14.html" class="sidebar-link">Chap14 DOM</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap14.html#节点层级" class="sidebar-link">节点层级</a></li><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap14.html#dom编程" class="sidebar-link">DOM编程</a></li><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap14.html#mutationobserver接口" class="sidebar-link">MutationObserver接口</a></li><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap14.html#小结" class="sidebar-link">小结</a></li></ul></li><li><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap15.html" class="sidebar-link">Chap15 DOM扩展</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap15.html#selectors-api" class="sidebar-link">Selectors API</a></li><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap15.html#元素遍历" class="sidebar-link">元素遍历</a></li><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap15.html#html5" class="sidebar-link">HTML5</a></li><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap15.html#专有扩展" class="sidebar-link">专有扩展</a></li><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap15.html#小结" class="sidebar-link">小结</a></li></ul></li><li><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap16.html" class="sidebar-link">Chap16 DOM2 和 DOM3</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap16.html#dom的演进" class="sidebar-link">DOM的演进</a></li><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap16.html#样式" class="sidebar-link">样式</a></li><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap16.html#遍历" class="sidebar-link">遍历</a></li><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap16.html#范围" class="sidebar-link">范围</a></li><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap16.html#小结" class="sidebar-link">小结</a></li></ul></li><li><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap17.html" class="sidebar-link">Chap17 事件</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap17.html#事件流" class="sidebar-link">事件流</a></li><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap17.html#事件处理程序" class="sidebar-link">事件处理程序</a></li><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap17.html#事件对象" class="sidebar-link">事件对象</a></li><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap17.html#事件类型" class="sidebar-link">事件类型</a></li><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap17.html#内存与性能" class="sidebar-link">内存与性能</a></li><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap17.html#模拟事件" class="sidebar-link">模拟事件</a></li><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap17.html#小结" class="sidebar-link">小结</a></li></ul></li><li><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap18.html" class="sidebar-link">Chap18 动画与Canvas图形</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap18.html#使用requestanimationframe" class="sidebar-link">使用requestAnimationFrame</a></li><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap18.html#基本的画布功能" class="sidebar-link">基本的画布功能</a></li><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap18.html#_2d绘图上下文" class="sidebar-link">2D绘图上下文</a></li><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap18.html#webgl" class="sidebar-link">WebGL</a></li><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap18.html#小结" class="sidebar-link">小结</a></li></ul></li><li><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap19.html" class="sidebar-link">Chap19 表单脚本</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap19.html#表单基础" class="sidebar-link">表单基础</a></li><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap19.html#文本框编程" class="sidebar-link">文本框编程</a></li><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap19.html#选择框编程" class="sidebar-link">选择框编程</a></li><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap19.html#表单序列化" class="sidebar-link">表单序列化</a></li><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap19.html#富文本编辑" class="sidebar-link">富文本编辑</a></li><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap19.html#小结" class="sidebar-link">小结</a></li></ul></li><li><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap20.html" class="sidebar-link">Chap20 JavaScript API</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap20.html#atomics与sharedarraybuffer" class="sidebar-link">Atomics与SharedArrayBuffer</a></li><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap20.html#跨上下文消息" class="sidebar-link">跨上下文消息</a></li><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap20.html#encoding-api" class="sidebar-link">Encoding API</a></li><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap20.html#file-api-与-blob-api" class="sidebar-link">File API 与 Blob API</a></li><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap20.html#媒体元素" class="sidebar-link">媒体元素</a></li><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap20.html#原生拖放" class="sidebar-link">原生拖放</a></li><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap20.html#notifications-api" class="sidebar-link">Notifications API</a></li><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap20.html#page-visibility-api" class="sidebar-link">Page Visibility API</a></li><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap20.html#streams-api" class="sidebar-link">Streams API</a></li><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap20.html#计时-api" class="sidebar-link">计时 API</a></li><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap20.html#web组件" class="sidebar-link">Web组件</a></li><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap20.html#web-cryptography-api" class="sidebar-link">Web Cryptography API</a></li><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap20.html#小结" class="sidebar-link">小结</a></li></ul></li><li><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap21.html" class="sidebar-link">Chap21 错误处理与调试</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap21.html#浏览器错误报告" class="sidebar-link">浏览器错误报告</a></li><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap21.html#错误处理" class="sidebar-link">错误处理</a></li><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap21.html#调试技术" class="sidebar-link">调试技术</a></li><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap21.html#旧版ie的常见错误" class="sidebar-link">旧版IE的常见错误</a></li><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap21.html#小结" class="sidebar-link">小结</a></li></ul></li><li><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap22.html" class="sidebar-link">Chap22 处理XML</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap22.html#浏览器对xml-dom的支持" class="sidebar-link">浏览器对XML DOM的支持</a></li><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap22.html#浏览器对xpath的支持" class="sidebar-link">浏览器对XPath的支持</a></li><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap22.html#浏览器对xslt的支持" class="sidebar-link">浏览器对XSLT的支持</a></li><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap22.html#小结" class="sidebar-link">小结</a></li></ul></li><li><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap23.html" class="sidebar-link">Chap23 JSON</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap23.html#语法" class="sidebar-link">语法</a></li><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap23.html#解析与序列化" class="sidebar-link">解析与序列化</a></li><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap23.html#小结" class="sidebar-link">小结</a></li></ul></li><li><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap24.html" class="sidebar-link">Chap24 网络请求与远程资源</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap24.html#xmlhttprequest对象" class="sidebar-link">XMLHttpRequest对象</a></li><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap24.html#进度事件" class="sidebar-link">进度事件</a></li><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap24.html#跨域资源共享" class="sidebar-link">跨域资源共享</a></li><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap24.html#替代性跨源技术" class="sidebar-link">替代性跨源技术</a></li><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap24.html#fetch-api" class="sidebar-link">Fetch API</a></li><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap24.html#beacon-api" class="sidebar-link">Beacon API</a></li><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap24.html#web-socket" class="sidebar-link">Web Socket</a></li><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap24.html#安全" class="sidebar-link">安全</a></li><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap24.html#小结" class="sidebar-link">小结</a></li></ul></li><li><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap25.html" class="sidebar-link">Chap25 客户端存储</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap25.html#cookie" class="sidebar-link">cookie</a></li><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap25.html#web-storage" class="sidebar-link">Web Storage</a></li><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap25.html#indexeddb" class="sidebar-link">IndexedDB</a></li><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap25.html#小结" class="sidebar-link">小结</a></li></ul></li><li><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap26.html" class="sidebar-link">Chap26 模块</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap26.html#理解模块模式" class="sidebar-link">理解模块模式</a></li><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap26.html#凑合的模块系统" class="sidebar-link">凑合的模块系统</a></li><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap26.html#使用es6之前的模块加载器" class="sidebar-link">使用ES6之前的模块加载器</a></li><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap26.html#使用es6模块" class="sidebar-link">使用ES6模块</a></li><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap26.html#小结" class="sidebar-link">小结</a></li></ul></li><li><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap27.html" class="sidebar-link">Chap27 工作者线程</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap27.html#工作者线程简介" class="sidebar-link">工作者线程简介</a></li><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap27.html#专用工作者线程" class="sidebar-link">专用工作者线程</a></li><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap27.html#共享工作者线程" class="sidebar-link">共享工作者线程</a></li><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap27.html#服务工作者线程" class="sidebar-link">服务工作者线程</a></li><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap27.html#小结" class="sidebar-link">小结</a></li></ul></li><li><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap28.html" class="sidebar-link">Chap28 最佳实践</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap28.html#可维护性" class="sidebar-link">可维护性</a></li><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap28.html#性能" class="sidebar-link">性能</a></li><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap28.html#部署" class="sidebar-link">部署</a></li><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap28.html#小结" class="sidebar-link">小结</a></li></ul></li><li><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap29.html" class="sidebar-link">Chap29 附录</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap29.html#es2018和es2019" class="sidebar-link">ES2018和ES2019</a></li><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap29.html#严格模式" class="sidebar-link">严格模式</a></li><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap29.html#javascript库和框架" class="sidebar-link">JavaScript库和框架</a></li><li class="sidebar-sub-header"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap29.html#javascript工具" class="sidebar-link">JavaScript工具</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="chap6-集合引用类型"><a href="#chap6-集合引用类型" class="header-anchor">#</a> Chap6 集合引用类型</h1> <h2 id="object"><a href="#object" class="header-anchor">#</a> Object</h2> <ul><li>Object很适合存储和在应用程序间交换数据</li> <li>显式地创建Object实例有两种方式，一是使用new操作符和Object构造函数，二是使用字面量表示法</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 方法一</span>
<span class="token keyword">let</span> person <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
person<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'Nicholas'</span><span class="token punctuation">;</span>
person<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">29</span><span class="token punctuation">;</span>

<span class="token comment">// 方法二, 推荐</span>
<span class="token keyword">let</span> person <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">&quot;Nicholas&quot;</span>，
  age<span class="token operator">:</span> <span class="token number">29</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>虽然属性一般是通过<strong>点语法</strong> 来存取的，这也是面向对象语言的惯例，但也可以使用中括号来存取属性。在使用中括号时，要在括号内使用属性名的字符串形式</li></ul> <h2 id="array"><a href="#array" class="header-anchor">#</a> Array</h2> <ul><li>ECMAScript使用Array来存储一组有序的数据，但数组中每个槽位可以存储任意类型的数据；且数组是动态大小的，会随着数据添加而自动增长</li></ul> <h3 id="创建数组"><a href="#创建数组" class="header-anchor">#</a> 创建数组</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> colors <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> colors <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 创建一个初始长度为20的数组</span>
<span class="token keyword">let</span> colors <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token string">&quot;red&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;blue&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;green&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 创建一个包含3个字符串的数组</span>
<span class="token keyword">let</span> colors <span class="token operator">=</span> <span class="token function">Array</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 省略new操作符，结果是一样的</span>
<span class="token keyword">let</span> colors <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;red&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;blue&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;green&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// 使用字面量创建</span>

<span class="token comment">// ES6 中新增了用于创建数组的静态方法:from()和of()，from()用于将类数组结构转换为数组实例，of()用于将一组参数转换为数组实例</span>

<span class="token comment">// Array.from() 的第一个参数是一个类数组对象，或者有一个length 属性和可索引元素的结构。</span>
<span class="token comment">// 字符串会被拆分为单字符数组</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token string">&quot;Matt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [&quot;M&quot;, &quot;a&quot;, &quot;t&quot;, &quot;t&quot;]</span>
<span class="token comment">// 可以使用from()将集合和映射转换为一个新数组</span>
<span class="token keyword">const</span> m <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> s <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>m<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [[1, 2], [3, 4]]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [1, 2, 3, 4]</span>
<span class="token comment">// Array.from()对现有数组执行浅复制</span>
<span class="token keyword">const</span> a1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> a2 <span class="token operator">=</span> Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>a1<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a1<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// [1, 2, 3, 4]</span>
<span class="token function">alert</span><span class="token punctuation">(</span>a1 <span class="token operator">===</span> a2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
<span class="token comment">// 可以使用任何可迭代对象</span>
<span class="token keyword">const</span> iter <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token operator">*</span><span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>iterator<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token keyword">yield</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token keyword">yield</span> <span class="token number">2</span><span class="token punctuation">;</span><span class="token keyword">yield</span> <span class="token number">3</span><span class="token punctuation">;</span><span class="token keyword">yield</span> <span class="token number">4</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>iter<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [1, 2, 3, 4]</span>
<span class="token comment">// arguments对象可以被轻松地转换为数组</span>
<span class="token keyword">function</span> <span class="token function">getArgsArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token keyword">return</span> Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>arguments<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">getArgsArray</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [1, 2, 3, 4]</span>
<span class="token comment">// from()也能转换带有必要属性的自定义对象</span>
<span class="token keyword">const</span> arrayLikeObject <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">0</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span> length<span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>arrayLikeObject<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [1, 2, 3, 4]</span>

<span class="token comment">//Array.from() 还接收第二个可选的映射函数参数。这个函数可以直接增强新数组的值，而无须像调用Array.from().map() 那样先创建一个中间数组。还可以接收第三个可选参数，用于指定映射函数中this 的值。但这个重写的this 值在箭头函数中不适用。</span>
<span class="token keyword">const</span> a1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> a2 <span class="token operator">=</span> Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>a1<span class="token punctuation">,</span> <span class="token parameter">x</span> <span class="token operator">=&gt;</span> x<span class="token operator">**</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> a3 <span class="token operator">=</span> Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>a1<span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">x</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token keyword">return</span> x<span class="token operator">**</span><span class="token keyword">this</span><span class="token punctuation">.</span>exponent<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>exponent<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a2<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// [1, 4, 9, 16]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a3<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// [1, 4, 9, 16]</span>

<span class="token comment">//Array.of() 可以把一组参数转换为数组。用于替代在ES6之前常用的Array.prototype.slice.call(arguments) ，一种异常笨拙的将arguments 对象转换为数组的写法</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Array<span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [1, 2, 3, 4]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Array<span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token keyword">undefined</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// [undefined]</span>
</code></pre></div><h3 id="数组空位"><a href="#数组空位" class="header-anchor">#</a> 数组空位</h3> <ul><li>使用数组字面量初始化数组时，可以使用一串逗号来创建空位（hole）</li> <li>由于行为不一致和存在性能隐患，因此实践中要避免使用数组空位。如果确实需要空位，则可以显式地用<code>undefined</code> 值代替</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> options <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token punctuation">,</span><span class="token punctuation">,</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token comment">// false, true, true, true, false</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> option <span class="token keyword">of</span> options<span class="token punctuation">)</span> <span class="token punctuation">{</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>option <span class="token operator">===</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
<span class="token comment">// map()会跳过空位置</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>options<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// [6, undefined, undefined, undefined, 6]</span>
<span class="token comment">// join()视空位置为空字符串</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>options<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">'-'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// &quot;1----5&quot;</span>
</code></pre></div><h3 id="数组索引"><a href="#数组索引" class="header-anchor">#</a> 数组索引</h3> <ul><li>数组<code>length</code> 属性的独特之处在于，它不是只读的。通过修改<code>length</code> 属性，可以从数组末尾删除或添加元素<code>undefined</code>,一种便捷的末尾添加方法是<code>a[a.length]=new_value</code></li> <li>数组最多可以包含4294967295个元素</li></ul> <h3 id="数组检测"><a href="#数组检测" class="header-anchor">#</a> 数组检测</h3> <ul><li>如果网页里有多个框架，则可能涉及两个不同的全局执行上下文，因此就会有两个不同版本的<code>Array</code> 构造函数。如果要把数组从一个框架传给另一个框架，则这个数组的构造函数将有别于在第二个框架内本地创建的数组。</li> <li>在一个全局作用上下文的情况下，使用<code>instanceof</code> 操作符就足矣；在多个全局上下文的情况下，使用<code>Array.isArray()</code>方法</li></ul> <h3 id="迭代器方法"><a href="#迭代器方法" class="header-anchor">#</a> 迭代器方法</h3> <ul><li>在ES6中，<code>Array</code> 的原型上暴露了3个用于检索数组内容的方法：<code>keys()</code> 、<code>values()</code> 和<code>entries()</code> 。
<ul><li><code>keys()</code> 返回数组索引的迭代器</li> <li><code>values()</code> 返回数组元素的迭代器</li> <li><code>entries()</code> 返回索引/值对的迭代器</li></ul></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;foo&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;bar&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;baz&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;qux&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment">// [0, 1, 2, 3]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// [&quot;foo&quot;, &quot;bar&quot;, &quot;baz&quot;, &quot;qux&quot;]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//[[0,&quot;foo&quot;], [1,&quot;bar&quot;], [2,&quot;baz&quot;], [3,&quot;qux&quot;]]</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token punctuation">[</span>idx<span class="token punctuation">,</span> element<span class="token punctuation">]</span> <span class="token keyword">of</span> a<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">alert</span><span class="token punctuation">(</span>idx<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">alert</span><span class="token punctuation">(</span>element<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="复制和填充方法"><a href="#复制和填充方法" class="header-anchor">#</a> 复制和填充方法</h3> <ul><li>ES6新增了两个方法：批量复制方法<code>copyWithin()</code>，填充数组方法<code>fill()</code></li> <li>这两个方法都需要指定既有数组实例上的一个范围，包含开始索引，不包含结束索引。</li> <li>使用这个方法不会改变数组的大小。</li> <li>使用<code>fill()</code> 方法可以向一个已有的数组中插入全部或部分相同的值。开始索引用于指定开始填充的位置，它是可选的。如果不提供结束索引，则一直填充到数组末尾。负值索引从数组末尾开始计算。<code>fill()</code> 静默忽略超出数组边界、零长度及方向相反的索引范围</li> <li>与<code>fill()</code> 不同，<code>copyWithin()</code> 会按照指定范围浅复制数组中的部分内容，然后将它们插入到指定索引开始的位置。开始索引和结束索引则与<code>fill()</code> 使用同样的计算方法，<code>copyWithin()</code> 静默忽略超出数组边界、零长度及方向相反的索引范围</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> zeroes <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token comment">// 用5填充整个数组</span>
zeroes<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>zeroes<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// [5, 5, 5, 5, 5]</span>
zeroes<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment">// 重置</span>
<span class="token comment">// 用6填充索引大于等于3的元素</span>
zeroes<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>zeroes<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// [0, 0, 0, 6, 6]</span>
zeroes<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment">// 重置</span>
<span class="token comment">// 用7填充索引大于等于1且小于3的元素</span>
zeroes<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>zeroes<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// [0, 7, 7, 0, 0];</span>
zeroes<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment">// 重置</span>
<span class="token comment">// 用8填充索引大于等于1且小于4的元素</span>
<span class="token comment">// (-4 + zeroes.length = 1)</span>
<span class="token comment">// (-1 + zeroes.length = 4)</span>
zeroes<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>zeroes<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// [0, 8, 8, 8, 0];</span>
zeroes<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment">// 重置</span>
<span class="token comment">// 索引过低，忽略</span>
zeroes<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>zeroes<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// [0, 0, 0, 0, 0]</span>
<span class="token comment">// 索引过高，忽略</span>
zeroes<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>zeroes<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// [0, 0, 0, 0, 0]</span>
<span class="token comment">// 索引反向，忽略</span>
zeroes<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>zeroes<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// [0, 0, 0, 0, 0]</span>
<span class="token comment">// 索引部分可用，填充可用部分</span>
zeroes<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>zeroes<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// [0, 0, 0, 4, 4]</span>

<span class="token keyword">let</span> ints<span class="token punctuation">,</span> <span class="token function-variable function">reset</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> ints <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token function">reset</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 从ints中复制索引0开始的内容，插入到索引5开始的位置</span>
<span class="token comment">// 在源索引或目标索引到达数组边界时停止</span>
ints<span class="token punctuation">.</span><span class="token function">copyWithin</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>ints<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// [0, 1, 2, 3, 4, 0, 1, 2, 3, 4]</span>
<span class="token function">reset</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 从ints中复制索引5开始的内容，插入到索引0开始的位置</span>
ints<span class="token punctuation">.</span><span class="token function">copyWithin</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>ints<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// [5, 6, 7, 8, 9, 5, 6, 7, 8, 9]</span>
<span class="token function">reset</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 从ints中复制索引0开始到索引3结束的内容</span>
<span class="token comment">// 插入到索引4开始的位置</span>
ints<span class="token punctuation">.</span><span class="token function">copyWithin</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">alert</span><span class="token punctuation">(</span>ints<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// [0, 1, 2, 3, 0, 1, 2, 7, 8, 9]</span>
<span class="token function">reset</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// JavaScript引擎在插值前会完整复制范围内的值,因此复制期间不存在重写的风险</span>
ints<span class="token punctuation">.</span><span class="token function">copyWithin</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">alert</span><span class="token punctuation">(</span>ints<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// [0, 1, 0, 1, 2, 3, 4, 5, 8, 9]</span>
<span class="token function">reset</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 支持负索引值，与fill()相对于数组末尾计算正向索引的过程是一样的</span>
ints<span class="token punctuation">.</span><span class="token function">copyWithin</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">7</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">alert</span><span class="token punctuation">(</span>ints<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// [0, 1, 2, 3, 4, 5, 3, 4, 5, 6]</span>
<span class="token function">reset</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 索引过低，忽略</span>
ints<span class="token punctuation">.</span><span class="token function">copyWithin</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">15</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">alert</span><span class="token punctuation">(</span>ints<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// [0, 1, 2, 3, 4, 5, 6, 7, 8, 9];</span>
<span class="token function">reset</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">// 索引过高，忽略</span>
ints<span class="token punctuation">.</span><span class="token function">copyWithin</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">alert</span><span class="token punctuation">(</span>ints<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// [0, 1, 2, 3, 4, 5, 6, 7, 8, 9];</span>
<span class="token function">reset</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 索引反向，忽略</span>
ints<span class="token punctuation">.</span><span class="token function">copyWithin</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">alert</span><span class="token punctuation">(</span>ints<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// [0, 1, 2, 3, 4, 5, 6, 7, 8, 9];</span>
<span class="token function">reset</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 索引部分可用，复制、填充可用部分</span>
ints<span class="token punctuation">.</span><span class="token function">copyWithin</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span>
<span class="token function">alert</span><span class="token punctuation">(</span>ints<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// [0, 1, 2, 3, 7, 8, 9, 7, 8, 9];</span>
</code></pre></div><h3 id="转换方法"><a href="#转换方法" class="header-anchor">#</a> 转换方法</h3> <ul><li>所有对象都有<code>toLocaleString()</code> 、<code>toString()</code> 和<code>valueOf()</code> 方法。其中，<code>valueOf()</code> 返回的还是数组本身。而<code>toString()</code> 返回由数组中每个值的等效字符串拼接而成的一个逗号分隔的字符串。也就是说，对数组的每个值都会调用其<code>toString()</code> 方法，以得到最终的字符串。</li> <li>如果想使用不同的分隔符，则可以使用<code>join()</code> 方法。<code>join()</code> 方法接收一个参数，即字符串分隔符，返回包含所有项的字符串</li> <li>如果数组中某一项是<code>null</code> 或<code>undefined</code> ，则在<code>join()</code> 、<code>toLocaleString()</code> 、<code>toString()</code> 和<code>valueOf()</code> 返回的结果中会以空字符串表示</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> colors <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;red&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;green&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;blue&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token function">alert</span><span class="token punctuation">(</span>colors<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// red,blue,green</span>
<span class="token function">alert</span><span class="token punctuation">(</span>colors<span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// red,blue,green</span>
<span class="token function">alert</span><span class="token punctuation">(</span>colors<span class="token punctuation">)</span><span class="token punctuation">;</span>              <span class="token comment">// red,blue,green  隐式调用数组的toString()方法</span>
<span class="token function">alert</span><span class="token punctuation">(</span>colors<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">&quot;||&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// red||green||blue</span>
</code></pre></div><h3 id="栈方法"><a href="#栈方法" class="header-anchor">#</a> 栈方法</h3> <ul><li>ECMAScript数组提供了<code>push()</code> 和<code>pop()</code> 方法，以实现类似栈的行为。</li> <li><code>push()</code> 方法接收任意数量的参数，并将它们添加到数组末尾，返回数组的最新长度。</li> <li><code>pop()</code> 方法则用于删除数组的最后一项，同时减少数组的<code>length</code> 值，返回被删除的项。</li></ul> <h3 id="队列方法"><a href="#队列方法" class="header-anchor">#</a> 队列方法</h3> <ul><li>这个数组方法叫<code>shift()</code> ，它会删除数组的第一项并返回它，然后数组长度减1。使用<code>shift()</code> 和<code>push()</code> ，可以把数组当成队列来使用</li> <li><code>unshift()</code> 就是执行跟<code>shift()</code> 相反的操作：在数组开头添加任意多个值，然后返回新的数组长度。通过使用<code>unshift()</code> 和<code>pop()</code> ，可以在相反方向上模拟队列，即在数组开头添加新数据，在数组末尾取得数据</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> colors <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                 <span class="token comment">// 创建一个数组</span>
<span class="token keyword">let</span> count <span class="token operator">=</span> colors<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">&quot;red&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;green&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 推入两项</span>
<span class="token function">alert</span><span class="token punctuation">(</span>count<span class="token punctuation">)</span><span class="token punctuation">;</span>                             <span class="token comment">// 2</span>
count <span class="token operator">=</span> colors<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">&quot;black&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 再推入一项</span>
<span class="token function">alert</span><span class="token punctuation">(</span>count<span class="token punctuation">)</span><span class="token punctuation">;</span>                 <span class="token comment">// 3</span>
<span class="token keyword">let</span> item <span class="token operator">=</span> colors<span class="token punctuation">.</span><span class="token function">shift</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 取得第一项</span>
<span class="token function">alert</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token comment">// red</span>
<span class="token function">alert</span><span class="token punctuation">(</span>colors<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment">// 2</span>

<span class="token keyword">let</span> colors <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token comment">// 创建一个数组</span>
<span class="token keyword">let</span> count <span class="token operator">=</span> colors<span class="token punctuation">.</span><span class="token function">unshift</span><span class="token punctuation">(</span><span class="token string">&quot;red&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;green&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 从数组开头推入两项</span>
<span class="token function">alert</span><span class="token punctuation">(</span>count<span class="token punctuation">)</span><span class="token punctuation">;</span>                                <span class="token comment">// 2</span>
count <span class="token operator">=</span> colors<span class="token punctuation">.</span><span class="token function">unshift</span><span class="token punctuation">(</span><span class="token string">&quot;black&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 再推入一项</span>
<span class="token function">alert</span><span class="token punctuation">(</span>count<span class="token punctuation">)</span><span class="token punctuation">;</span>                     <span class="token comment">// 3</span>
<span class="token keyword">let</span> item <span class="token operator">=</span> colors<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 取得最后一项</span>
<span class="token function">alert</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span>              <span class="token comment">// green</span>
<span class="token function">alert</span><span class="token punctuation">(</span>colors<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment">// 2</span>
</code></pre></div><h3 id="排序方法"><a href="#排序方法" class="header-anchor">#</a> 排序方法</h3> <ul><li><code>reverse()</code> 方法就是将数组元素反向排列</li> <li>默认情况下，<code>sort()</code> 会按照升序重新排列数组元素，即最小的值在前面，最大的值在后面。为此，<code>sort()</code> 会在每一项上调用<code>String()</code> 转型函数，然后比较字符串来决定顺序。即使数组的元素都是数值，也会先把数组转换为字符串再比较、排序。</li> <li>很明显，这在多数情况下都不是最合适的。为此，<code>sort()</code> 方法可以接收一个<strong>比较函数</strong> ，用于判断哪个值应该排在前面。比较函数接收两个参数，如果第一个参数应该排在第二个参数前面，就返回负值；如果两个参数相等，就返回0；如果第一个参数应该排在第二个参数后面，就返回正值</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> values <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
values<span class="token punctuation">.</span><span class="token function">reverse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">alert</span><span class="token punctuation">(</span>values<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 5,4,3,2,1</span>

<span class="token keyword">let</span> values <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
values<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">alert</span><span class="token punctuation">(</span>values<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 0,1,10,15,5</span>

<span class="token comment">// 升序排序比较函数</span>
<span class="token keyword">function</span> <span class="token function">compare</span><span class="token punctuation">(</span><span class="token parameter">value1<span class="token punctuation">,</span> value2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>value1 <span class="token operator">&lt;</span> value2<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>value1 <span class="token operator">&gt;</span> value2<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> values <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
values<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span>compare<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">alert</span><span class="token punctuation">(</span>values<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 0,1,5,10,15</span>

<span class="token comment">// 降序排序比较函数简写</span>
<span class="token keyword">let</span> values <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
values<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> a <span class="token operator">&lt;</span> b <span class="token operator">?</span> <span class="token number">1</span> <span class="token operator">:</span> a <span class="token operator">&gt;</span> b <span class="token operator">?</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">alert</span><span class="token punctuation">(</span>values<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 15,10,5,1,0</span>

<span class="token comment">// 如果数组的元素是数值，或者是其valueOf()方法返回数值的对象，比较函数可以直接用第二个值减去第一个值</span>
<span class="token keyword">function</span> <span class="token function">compare</span><span class="token punctuation">(</span><span class="token parameter">value1<span class="token punctuation">,</span> value2</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">return</span> value2 <span class="token operator">-</span> value1<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="操作方法"><a href="#操作方法" class="header-anchor">#</a> 操作方法</h3> <ul><li><code>concat()</code> 方法可以在现有数组全部元素基础上创建一个新数组。它首先会创建一个当前数组的副本，然后再把它的参数添加到副本末尾，最后返回这个新构建的数组。如果传入一个或多个数组，则<code>concat()</code> 会把这些数组的每一项都添加到结果数组。如果参数不是数组，则直接把它们添加到结果数组末尾。打平数组参数的行为可以重写，方法是在参数数组上指定一个特殊的符号：<code>Symbol.isConcatSpreadable</code> 。这个符号能够阻止<code>concat()</code> 打平参数数组。相反，把这个值设置为<code>true</code> 可以强制打平类数组对象</li> <li><code>slice()</code> 方法用于创建一个包含原有数组中一个或多个元素的新数组。<code>slice()</code> 方法可以接收一个或两个参数：返回元素的开始索引和结束索引。如果只有一个参数，则<code>slice()</code> 会返回该索引到数组末尾的所有元素。如果有两个参数，则<code>slice()</code> 返回从开始索引到结束索引对应的所有元素，其中不包含结束索引对应的元素。这个操作不影响原始数组</li> <li><code>splice()</code> 的主要目的是在数组中间插入元素，但有3种不同的方式使用这个方法。
<ul><li><strong>删除</strong> 。需要给<code>splice()</code> 传2个参数：要删除的第一个元素的位置和要删除的元素数量。可以从数组中删除任意多个元素，比如<code>splice(0, 2)</code> 会删除前两个元素。</li> <li><strong>插入</strong> 。需要给<code>splice()</code> 传3个参数：开始位置、0（要删除的元素数量）和要插入的元素，可以在数组中指定的位置插入元素。第三个参数之后还可以传第四个、第五个参数，乃至任意多个要插入的元素。比如，<code>splice(2, 0, &quot;red&quot;, &quot;green&quot;)</code> 会从数组位置2开始插入字符串<code>&quot;red&quot;</code> 和<code>&quot;green&quot;</code> 。</li> <li><strong>替换</strong> 。<code>splice()</code> 在删除元素的同时可以在指定位置插入新元素，同样要传入3个参数：开始位置、要删除元素的数量和要插入的任意多个元素。要插入的元素数量不一定跟删除的元素数量一致。比如，<code>splice(2, 1, &quot;red&quot;, &quot;green&quot;)</code> 会在位置2删除一个元素，然后从该位置开始向数组中插入<code>&quot;red&quot;</code> 和<code>&quot;green&quot;</code> 。</li> <li><code>splice()</code> 方法始终返回这样一个数组，它包含从数组中被删除的元素（如果没有删除元素，则返回空数组）。</li></ul></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> colors <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;red&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;green&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;blue&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> colors2 <span class="token operator">=</span> colors<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span><span class="token string">&quot;yellow&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&quot;black&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;brown&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>colors2<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// [&quot;red&quot;, &quot;green&quot;, &quot;blue&quot;, &quot;yellow&quot;, &quot;black&quot;, &quot;brown&quot;]</span>
<span class="token keyword">let</span> newColors <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;black&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;brown&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
newColors<span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>isConcatSpreadable<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> colors2 <span class="token operator">=</span> colors<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span><span class="token string">&quot;yellow&quot;</span><span class="token punctuation">,</span> newColors<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>colors2<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// [&quot;red&quot;, &quot;green&quot;, &quot;blue&quot;, &quot;yellow&quot;, [&quot;black&quot;, &quot;brown&quot;]]</span>

<span class="token keyword">let</span> colors <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;red&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;green&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;blue&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;yellow&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;purple&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> colors2 <span class="token operator">=</span> colors<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> colors3 <span class="token operator">=</span> colors<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">alert</span><span class="token punctuation">(</span>colors2<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// green,blue,yellow,purple</span>
<span class="token function">alert</span><span class="token punctuation">(</span>colors3<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// green,blue,yellow</span>

<span class="token keyword">let</span> colors <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;red&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;green&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;blue&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> removed <span class="token operator">=</span> colors<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 删除第一项</span>
<span class="token function">alert</span><span class="token punctuation">(</span>colors<span class="token punctuation">)</span><span class="token punctuation">;</span>                     <span class="token comment">// green,blue</span>
<span class="token function">alert</span><span class="token punctuation">(</span>removed<span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token comment">// red，只有一个元素的数组</span>
removed <span class="token operator">=</span> colors<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">&quot;yellow&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;orange&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// 在位置1插入两个元素</span>
<span class="token function">alert</span><span class="token punctuation">(</span>colors<span class="token punctuation">)</span><span class="token punctuation">;</span>                                       <span class="token comment">// green,yellow,orange,blue</span>
<span class="token function">alert</span><span class="token punctuation">(</span>removed<span class="token punctuation">)</span><span class="token punctuation">;</span>                                      <span class="token comment">// 空数组</span>
removed <span class="token operator">=</span> colors<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&quot;red&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;purple&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 插入两个值，删除一个元素</span>
<span class="token function">alert</span><span class="token punctuation">(</span>colors<span class="token punctuation">)</span><span class="token punctuation">;</span>                                   <span class="token comment">// green,red,purple,orange,blue</span>
<span class="token function">alert</span><span class="token punctuation">(</span>removed<span class="token punctuation">)</span><span class="token punctuation">;</span>                                  <span class="token comment">// yellow，只有一个元素的数组</span>
</code></pre></div><h3 id="搜索和位置方法"><a href="#搜索和位置方法" class="header-anchor">#</a> 搜索和位置方法</h3> <ul><li><p>ECMAScript提供了3个严格相等的搜索方法：<code>indexOf()</code> 、<code>lastIndexOf()</code> 和<code>includes()</code> 。</p> <ul><li>这些方法都接收两个参数：要查找的元素和一个可选的起始搜索位置。<code>indexOf()</code> 和<code>includes()</code> 方法从数组前头（第一项）开始向后搜索，而<code>lastIndexOf()</code> 从数组末尾（最后一项）开始向前搜索。</li> <li><code>indexOf()</code> 和<code>lastIndexOf()</code> 都返回要查找的元素在数组中的位置，如果没找到则返回-1。<code>includes()</code> 返回布尔值，表示是否至少找到一个与指定元素匹配的项。在比较第一个参数跟数组每一项时，会使用全等（<code>===</code> ）比较，也就是说两项必须严格相等。</li></ul></li> <li><p>ECMAScript也允许按照定义的断言函数搜索数组，每个索引都会调用这个函数。断言函数的返回值决定了相应索引的元素是否被认为匹配。</p> <ul><li>断言函数接收3个参数：元素、索引和数组本身。其中元素是数组中当前搜索的元素，索引是当前元素的索引，而数组就是正在搜索的数组。断言函数返回真值，表示是否匹配。</li> <li><code>find()</code> 和<code>findIndex()</code> 方法使用了断言函数。这两个方法都从数组的最小索引开始。<code>find()</code> 返回第一个匹配的元素，<code>findIndex()</code> 返回第一个匹配元素的索引。这两个方法也都接收第二个可选的参数，用于指定断言函数内部<code>this</code> 的值。找到匹配项后，这两个方法都不再继续搜索。</li></ul></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> numbers <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token function">alert</span><span class="token punctuation">(</span>numbers<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>          <span class="token comment">// 3</span>
<span class="token function">alert</span><span class="token punctuation">(</span>numbers<span class="token punctuation">.</span><span class="token function">lastIndexOf</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment">// 5</span>
<span class="token function">alert</span><span class="token punctuation">(</span>numbers<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>         <span class="token comment">// true</span>
<span class="token function">alert</span><span class="token punctuation">(</span>numbers<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment">// 5</span>
<span class="token function">alert</span><span class="token punctuation">(</span>numbers<span class="token punctuation">.</span><span class="token function">lastIndexOf</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// 3</span>
<span class="token function">alert</span><span class="token punctuation">(</span>numbers<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment">// false</span>

<span class="token keyword">const</span> people <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>name<span class="token operator">:</span> <span class="token string">&quot;Matt&quot;</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">27</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>name<span class="token operator">:</span> <span class="token string">&quot;Nicholas&quot;</span><span class="token punctuation">,</span>age<span class="token operator">:</span> <span class="token number">29</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token function">alert</span><span class="token punctuation">(</span>people<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">element<span class="token punctuation">,</span> index<span class="token punctuation">,</span> array</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> element<span class="token punctuation">.</span>age <span class="token operator">&lt;</span> <span class="token number">28</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// {name: &quot;Matt&quot;, age: 27}</span>
<span class="token function">alert</span><span class="token punctuation">(</span>people<span class="token punctuation">.</span><span class="token function">findIndex</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">element<span class="token punctuation">,</span> index<span class="token punctuation">,</span> array</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> element<span class="token punctuation">.</span>age <span class="token operator">&lt;</span> <span class="token number">28</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 0</span>
</code></pre></div><h3 id="迭代方法"><a href="#迭代方法" class="header-anchor">#</a> 迭代方法</h3> <ul><li>ECMAScript为数组定义了5个迭代方法。每个方法接收两个参数：以每一项为参数运行的函数，以及可选的作为函数运行上下文的作用域对象（影响函数中<code>this</code> 的值）。传给每个方法的函数接收3个参数：数组元素、元素索引和数组本身。
<ul><li><code>every()</code> ：对数组每一项都运行传入的函数，如果对每一项函数都返回<code>true</code> ，则这个方法返回<code>true</code></li> <li><code>filter()</code> ：对数组每一项都运行传入的函数，函数返回<code>true</code> 的项会组成数组之后返回。</li> <li><code>forEach()</code> ：对数组每一项都运行传入的函数，没有返回值。</li> <li><code>map()</code> ：对数组每一项都运行传入的函数，返回由每次函数调用的结果构成的数组。</li> <li><code>some()</code> ：对数组每一项都运行传入的函数，如果有一项函数返回<code>true</code> ，则这个方法返回<code>true</code> 。</li></ul></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> numbers <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> everyResult <span class="token operator">=</span> numbers<span class="token punctuation">.</span><span class="token function">every</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span> index<span class="token punctuation">,</span> array</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> item <span class="token operator">&gt;</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">alert</span><span class="token punctuation">(</span>everyResult<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// false</span>

<span class="token keyword">let</span> someResult <span class="token operator">=</span> numbers<span class="token punctuation">.</span><span class="token function">some</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span> index<span class="token punctuation">,</span> array</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> item <span class="token operator">&gt;</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">alert</span><span class="token punctuation">(</span>someResult<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// true</span>

<span class="token keyword">let</span> filterResult <span class="token operator">=</span> numbers<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span> index<span class="token punctuation">,</span> array</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> item <span class="token operator">&gt;</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">alert</span><span class="token punctuation">(</span>filterResult<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 3,4,5,4,3</span>

<span class="token keyword">let</span> mapResult <span class="token operator">=</span> numbers<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span> index<span class="token punctuation">,</span> array</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> item <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">alert</span><span class="token punctuation">(</span>mapResult<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 2,4,6,8,10,8,6,4,2</span>

numbers<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span> index<span class="token punctuation">,</span> array</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// 执行某些操作</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="归并方法"><a href="#归并方法" class="header-anchor">#</a> 归并方法</h3> <ul><li><p>ECMAScript为数组提供了两个归并方法：<code>reduce()</code> 和<code>reduceRight()</code> ，这两个方法都会迭代数组的所有项，并在此基础上构建一个最终返回值。</p></li> <li><p><code>reduce()</code> 方法从数组第一项开始遍历到最后一项。</p></li> <li><p><code>reduceRight()</code> 从最后一项开始遍历至第一项。</p></li> <li><p>这两个方法都接收两个参数：对每一项都会运行的归并函数，以及可选的以之为归并起点的初始值。传给<code>reduce()</code> 和<code>reduceRight()</code> 的函数接收4个参数：上一个归并值、当前项、当前项的索引和数组本身。</p></li> <li><p>这个函数返回的任何值都会作为下一次调用同一个函数的第一个参数。如果没有给这两个方法传入归并起点值，则传给归并函数的第一个参数是数组的第一项，第二个参数是数组的第二项。</p></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> values <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> sum <span class="token operator">=</span> values<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">prev<span class="token punctuation">,</span> cur<span class="token punctuation">,</span> index<span class="token punctuation">,</span> array</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> prev <span class="token operator">+</span> cur<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">alert</span><span class="token punctuation">(</span>sum<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 15</span>

<span class="token keyword">let</span> sum <span class="token operator">=</span> values<span class="token punctuation">.</span><span class="token function">reduceRight</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">prev<span class="token punctuation">,</span> cur<span class="token punctuation">,</span> index<span class="token punctuation">,</span> array</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token keyword">return</span> prev <span class="token operator">+</span> cur<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">alert</span><span class="token punctuation">(</span>sum<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 15</span>
</code></pre></div><h2 id="定型数组"><a href="#定型数组" class="header-anchor">#</a> 定型数组</h2> <ul><li>定型数组（typed array）是ECMAScript新增的结构，目的是提升向原生库传输数据的效率。</li> <li>ArrayBuffer：所有定型数组及视图引用的基本单位
<ul><li><code>ArrayBuffer()</code> 是一个普通的JavaScript构造函数，可用于在内存中分配特定数量的字节空间。</li> <li><code>ArrayBuffer</code> 一经创建就不能再调整大小，但可以使用<code>slice()</code> 复制其全部或部分到一个新实例中</li> <li><code>ArrayBuffer</code> 某种程度上类似于C++的<code>malloc()</code> ，但也有几个明显的区别
<ul><li><code>ArrayBuffer</code> 在分配失败时会抛出错误</li> <li>分配的内存不能超过<code>Number.MAX_SAFE_INTEGER</code> 字节</li> <li>声明<code>ArrayBuffer</code> 则会将所有二进制位初始化为0</li> <li>通过声明<code>ArrayBuffer</code> 分配的堆内存可以被当成垃圾回收，不用手动释放</li> <li>不能仅通过对<code>ArrayBuffer</code> 的引用就读取或写入其内容。要读取或写入<code>ArrayBuffer</code> ，就必须通过视图。</li></ul></li></ul></li></ul> <h3 id="dataview"><a href="#dataview" class="header-anchor">#</a> DataView</h3> <ul><li>DataView：一种允许读写<code>ArrayBuffer</code> 的视图。这个视图专为文件I/O和网络I/O设计，其API支持对缓冲数据的高度控制，但相比于其他类型的视图性能也差一些。<code>DataView</code> 对缓冲内容没有任何预设，也不能迭代。必须在对已有的<code>ArrayBuffer</code> 读取或写入时才能创建<code>DataView</code> 实例。这个实例可以使用全部或部分<code>ArrayBuffer</code> ，且维护着对该缓冲实例的引用，以及视图在缓冲中开始的位置。</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> buf <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayBuffer</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// DataView默认使用整个ArrayBuffer</span>
<span class="token keyword">const</span> fullDataView <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DataView</span><span class="token punctuation">(</span>buf<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">alert</span><span class="token punctuation">(</span>fullDataView<span class="token punctuation">.</span>byteOffset<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment">// 0</span>
<span class="token function">alert</span><span class="token punctuation">(</span>fullDataView<span class="token punctuation">.</span>byteLength<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment">// 16</span>
<span class="token function">alert</span><span class="token punctuation">(</span>fullDataView<span class="token punctuation">.</span>buffer <span class="token operator">===</span> buf<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// true</span>

<span class="token comment">// 构造函数接收一个可选的字节偏移量和字节长度</span>
<span class="token comment">//   byteOffset=0表示视图从缓冲起点开始</span>
<span class="token comment">//   byteLength=8限制视图为前8个字节</span>
<span class="token keyword">const</span> firstHalfDataView <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DataView</span><span class="token punctuation">(</span>buf<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">alert</span><span class="token punctuation">(</span>firstHalfDataView<span class="token punctuation">.</span>byteOffset<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment">// 0</span>
<span class="token function">alert</span><span class="token punctuation">(</span>firstHalfDataView<span class="token punctuation">.</span>byteLength<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment">// 8</span>
<span class="token function">alert</span><span class="token punctuation">(</span>firstHalfDataView<span class="token punctuation">.</span>buffer <span class="token operator">===</span> buf<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// true</span>

<span class="token comment">// 如果不指定，则DataView会使用剩余的缓冲</span>
<span class="token comment">//   byteOffset=8表示视图从缓冲的第9个字节开始</span>
<span class="token comment">//   byteLength未指定，默认为剩余缓冲</span>
<span class="token keyword">const</span> secondHalfDataView <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DataView</span><span class="token punctuation">(</span>buf<span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">alert</span><span class="token punctuation">(</span>secondHalfDataView<span class="token punctuation">.</span>byteOffset<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment">// 8</span>
<span class="token function">alert</span><span class="token punctuation">(</span>secondHalfDataView<span class="token punctuation">.</span>byteLength<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment">// 8</span>
<span class="token function">alert</span><span class="token punctuation">(</span>secondHalfDataView<span class="token punctuation">.</span>buffer <span class="token operator">===</span> buf<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// true</span>
</code></pre></div><ul><li>要通过<code>DataView</code> 读取缓冲，还需要几个组件。
<ul><li>首先是要读或写的字节偏移量。可以看成<code>DataView</code> 中的某种“地址”。</li> <li><code>DataView</code> 应该使用<code>ElementType</code> 来实现JavaScript的<code>Number</code> 类型到缓冲内二进制格式的转换。</li> <li><code>DataView</code> 的所有API方法都以大端字节序作为默认值，但接收一个可选的布尔值参数，设置为<code>true</code> 即可启用小端字节序。</li> <li><code>DataView</code> 完成读、写操作的前提是必须有充足的缓冲区，否则就会抛出<code>RangeError</code></li> <li><code>DataView</code> 在写入缓冲里会尽最大努力把一个值转换为适当的类型，后备为0。如果无法转换，则抛出错误</li></ul></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 在内存中分配两个字节并声明一个DataView</span>
<span class="token keyword">const</span> buf <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayBuffer</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> view <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DataView</span><span class="token punctuation">(</span>buf<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// ECMAScript6支持8种不同的ElementType：Int8，Uint8，Int16，Uint16，Int32，Uint32，Float32，Float64；通过使用get/set前缀作为DataView实例的方法</span>

<span class="token comment">// 说明整个缓冲确实所有二进制位都是0</span>
<span class="token comment">// 检查第一个和第二个字符</span>
<span class="token function">alert</span><span class="token punctuation">(</span>view<span class="token punctuation">.</span><span class="token function">getInt8</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 0</span>
<span class="token function">alert</span><span class="token punctuation">(</span>view<span class="token punctuation">.</span><span class="token function">getInt8</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 0</span>
<span class="token comment">// 检查整个缓冲</span>
<span class="token function">alert</span><span class="token punctuation">(</span>view<span class="token punctuation">.</span><span class="token function">getInt16</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 0</span>

<span class="token comment">// 将整个缓冲都设置为1</span>
<span class="token comment">// 255的二进制表示是11111111（2^8 - 1）</span>
view<span class="token punctuation">.</span><span class="token function">setUint8</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// DataView会自动将数据转换为特定的ElementType</span>
<span class="token comment">// 255的十六进制表示是0xFF</span>
view<span class="token punctuation">.</span><span class="token function">setUint8</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0xFF</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 现在，缓冲里都是1了</span>
<span class="token comment">// 如果把它当成二补数的有符号整数，则应该是-1</span>
<span class="token function">alert</span><span class="token punctuation">(</span>view<span class="token punctuation">.</span><span class="token function">getInt16</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// -1</span>
</code></pre></div><h3 id="定型数组-2"><a href="#定型数组-2" class="header-anchor">#</a> 定型数组</h3> <ul><li>定型数组是另一种形式的ArrayBuffer视图，遵循系统原生的字节序，提供了适用面更广的API和更高的性功能</li> <li>设计定型数组的目的是提高与WebGL等原生库交换二进制数据的效率，JavaScript引擎可以重度优化算术运算，按位运算等对定型数组的常见操作</li> <li>创建定型数组的方式包括读取已有的缓冲、使用自有缓冲、填充可迭代结构，以及填充基于任意类型的定型数组。另外，通过<code>&lt;ElementType&gt;.from()</code> 和<code>&lt;ElementType&gt;.of()</code> 也可以创建定型数组</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 创建一个12字节的缓冲</span>
<span class="token keyword">const</span> buf <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayBuffer</span><span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 创建一个引用该缓冲的Int32Array</span>
<span class="token keyword">const</span> ints <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Int32Array</span><span class="token punctuation">(</span>buf<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 这个定型数组知道自己的每个元素需要4字节</span>
<span class="token comment">// 因此长度为3</span>
<span class="token function">alert</span><span class="token punctuation">(</span>ints<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 3</span>

<span class="token comment">// 创建一个长度为6的Int32Array</span>
<span class="token keyword">const</span> ints2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Int32Array</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 每个数值使用4字节，因此ArrayBuffer是24字节</span>
<span class="token function">alert</span><span class="token punctuation">(</span>ints2<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>             <span class="token comment">// 6</span>
<span class="token comment">// 类似DataView，定型数组也有一个指向关联缓冲的引用</span>
<span class="token function">alert</span><span class="token punctuation">(</span>ints2<span class="token punctuation">.</span>buffer<span class="token punctuation">.</span>byteLength<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 24</span>

<span class="token comment">// 创建一个包含[2, 4, 6, 8]的Int32Array</span>
<span class="token keyword">const</span> ints3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Int32Array</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">alert</span><span class="token punctuation">(</span>ints3<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">// 4</span>
<span class="token function">alert</span><span class="token punctuation">(</span>ints3<span class="token punctuation">.</span>buffer<span class="token punctuation">.</span>byteLength<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 16</span>
<span class="token function">alert</span><span class="token punctuation">(</span>ints3<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token comment">// 6</span>

<span class="token comment">// 通过复制ints3的值创建一个Int16Array</span>
<span class="token keyword">const</span> ints4 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Int16Array</span><span class="token punctuation">(</span>ints3<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 这个新类型数组会分配自己的缓冲</span>
<span class="token comment">// 对应索引的每个值会相应地转换为新格式</span>
<span class="token function">alert</span><span class="token punctuation">(</span>ints4<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">// 4</span>
<span class="token function">alert</span><span class="token punctuation">(</span>ints4<span class="token punctuation">.</span>buffer<span class="token punctuation">.</span>byteLength<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 8</span>
<span class="token function">alert</span><span class="token punctuation">(</span>ints4<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token comment">// 6</span>

<span class="token comment">// 基于普通数组来创建一个Int16Array</span>
<span class="token keyword">const</span> ints5 <span class="token operator">=</span> Int16Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">alert</span><span class="token punctuation">(</span>ints5<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">// 4</span>
<span class="token function">alert</span><span class="token punctuation">(</span>ints5<span class="token punctuation">.</span>buffer<span class="token punctuation">.</span>byteLength<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 8</span>
<span class="token function">alert</span><span class="token punctuation">(</span>ints5<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token comment">// 7</span>

<span class="token comment">// 基于传入的参数创建一个Float32Array</span>
<span class="token keyword">const</span> floats <span class="token operator">=</span> Float32Array<span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token number">3.14</span><span class="token punctuation">,</span> <span class="token number">2.718</span><span class="token punctuation">,</span> <span class="token number">1.618</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">alert</span><span class="token punctuation">(</span>floats<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">// 3</span>
<span class="token function">alert</span><span class="token punctuation">(</span>floats<span class="token punctuation">.</span>buffer<span class="token punctuation">.</span>byteLength<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 12</span>
<span class="token function">alert</span><span class="token punctuation">(</span>floats<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token comment">// 1.6180000305175781</span>
</code></pre></div><ul><li>定型数组的构造函数和实例都有一个<code>BYTES_PER_ELEMENT</code> 属性，返回该类型数组中每个元素的大小</li> <li>如果定型数组没有用任何值初始化，则其关联的缓冲会以0填充</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token function">alert</span><span class="token punctuation">(</span>Int16Array<span class="token punctuation">.</span><span class="token constant">BYTES_PER_ELEMENT</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 2</span>
<span class="token function">alert</span><span class="token punctuation">(</span>Int32Array<span class="token punctuation">.</span><span class="token constant">BYTES_PER_ELEMENT</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 4</span>

<span class="token keyword">const</span> ints <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Int32Array</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> floats <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Float64Array</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">alert</span><span class="token punctuation">(</span>ints<span class="token punctuation">.</span><span class="token constant">BYTES_PER_ELEMENT</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// 4</span>
<span class="token function">alert</span><span class="token punctuation">(</span>floats<span class="token punctuation">.</span><span class="token constant">BYTES_PER_ELEMENT</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment">// 8</span>

<span class="token keyword">const</span> ints <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Int32Array</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">alert</span><span class="token punctuation">(</span>ints<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 0</span>
<span class="token function">alert</span><span class="token punctuation">(</span>ints<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 0</span>
<span class="token function">alert</span><span class="token punctuation">(</span>ints<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 0</span>
<span class="token function">alert</span><span class="token punctuation">(</span>ints<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 0</span>
</code></pre></div><ul><li>定型数组与普通数组都很相似。定型数组支持较多操作符、方法和属性</li> <li>定型数组同样使用数组缓冲来存储数据，而数组缓冲无法调整大小，下列方法<strong>不适用</strong>于定型数组：concat(), pop(), push(), shift(), splice(), unshift()</li> <li>定型数组也提供了两个新方法，可以快速向外或向内复制数据：<code>set()</code> 和<code>subarray()</code> <ul><li><code>set()</code> 从提供的数组或定型数组中把值复制到当前定型数组中指定的索引位置</li> <li><code>subarray()</code> 会基于从原始定型数组中复制的值返回一个新定型数组</li></ul></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 创建长度为8的int16数组</span>
<span class="token keyword">const</span> container <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Int16Array</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 把定型数组复制为前4个值</span>
<span class="token comment">// 偏移量默认为索引0</span>
container<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>Int8Array<span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>container<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// [1,2,3,4,0,0,0,0]</span>
<span class="token comment">// 把普通数组复制为后4个值</span>
<span class="token comment">// 偏移量4表示从索引4开始插入</span>
container<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>container<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// [1,2,3,4,5,6,7,8]</span>

<span class="token comment">// 溢出会抛出错误</span>
container<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// RangeError</span>

<span class="token keyword">const</span> source <span class="token operator">=</span> Int16Array<span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 把整个数组复制为一个同类型的新数组</span>
<span class="token keyword">const</span> fullCopy <span class="token operator">=</span> source<span class="token punctuation">.</span><span class="token function">subarray</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>fullCopy<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// [2, 4, 6, 8]</span>

<span class="token comment">// 从索引2开始复制数组</span>
<span class="token keyword">const</span> halfCopy <span class="token operator">=</span> source<span class="token punctuation">.</span><span class="token function">subarray</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>halfCopy<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// [6, 8]</span>

<span class="token comment">// 从索引1开始复制到索引3</span>
<span class="token keyword">const</span> partialCopy <span class="token operator">=</span> source<span class="token punctuation">.</span><span class="token function">subarray</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>partialCopy<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// [4, 6]</span>
</code></pre></div><ul><li>定型数组不会考虑上下溢出的问题，请自行解决，具体形式不表</li></ul> <h2 id="map"><a href="#map" class="header-anchor">#</a> Map</h2> <h3 id="基本api"><a href="#基本api" class="header-anchor">#</a> 基本API</h3> <ul><li>作为ES6的新增特性，<code>Map</code> 是一种新的集合类型，为这门语言带来了真正的键/值存储机制</li> <li>如果想在创建的同时初始化实例，可以给<code>Map</code> 构造函数传入一个可迭代对象，需要包含键/值对数组</li> <li>初始化之后，可以使用<code>set()</code> 方法再添加键/值对。另外，可以使用<code>get()</code> 和<code>has()</code> 进行查询，可以通过<code>size</code> 属性获取映射中的键/值对的数量，还可以使用<code>delete()</code> 和<code>clear()</code> 删除值</li> <li><code>Map</code> 可以使用任何JavaScript数据类型作为键</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 使用嵌套数组初始化映射</span>
<span class="token keyword">const</span> m1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
  <span class="token punctuation">[</span><span class="token string">&quot;key1&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;val1&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span><span class="token string">&quot;key2&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;val2&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span><span class="token string">&quot;key3&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;val3&quot;</span><span class="token punctuation">]</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">alert</span><span class="token punctuation">(</span>m1<span class="token punctuation">.</span>size<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 3</span>
<span class="token comment">// 使用自定义迭代器初始化映射</span>
<span class="token keyword">const</span> m2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>iterator<span class="token punctuation">]</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token operator">*</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">yield</span> <span class="token punctuation">[</span><span class="token string">&quot;key1&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;val1&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">yield</span> <span class="token punctuation">[</span><span class="token string">&quot;key2&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;val2&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">yield</span> <span class="token punctuation">[</span><span class="token string">&quot;key3&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;val3&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">alert</span><span class="token punctuation">(</span>m2<span class="token punctuation">.</span>size<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 3</span>

<span class="token keyword">const</span> m <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">alert</span><span class="token punctuation">(</span>m<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span><span class="token string">&quot;firstName&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// false</span>
<span class="token function">alert</span><span class="token punctuation">(</span>m<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;firstName&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// undefined</span>

m<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">&quot;firstName&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Matt&quot;</span><span class="token punctuation">)</span>
 <span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">&quot;lastName&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Frisbie&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// set() 方法返回映射实例，因此可以把多个操作连起来，包括初始化</span>

<span class="token function">alert</span><span class="token punctuation">(</span>m<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span><span class="token string">&quot;firstName&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
<span class="token function">alert</span><span class="token punctuation">(</span>m<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;firstName&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Matt</span>
<span class="token function">alert</span><span class="token punctuation">(</span>m<span class="token punctuation">.</span>size<span class="token punctuation">)</span><span class="token punctuation">;</span>             <span class="token comment">// 2</span>

m<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span><span class="token string">&quot;firstName&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment">// 只删除这一个键/值对</span>

<span class="token function">alert</span><span class="token punctuation">(</span>m<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span><span class="token string">&quot;firstName&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
<span class="token function">alert</span><span class="token punctuation">(</span>m<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span><span class="token string">&quot;lastName&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// true</span>

m<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 清除这个映射实例中的所有键/值对</span>

<span class="token function">alert</span><span class="token punctuation">(</span>m<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span><span class="token string">&quot;firstName&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
<span class="token function">alert</span><span class="token punctuation">(</span>m<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span><span class="token string">&quot;lastName&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// false</span>
<span class="token function">alert</span><span class="token punctuation">(</span>m<span class="token punctuation">.</span>size<span class="token punctuation">)</span><span class="token punctuation">;</span>             <span class="token comment">// 0</span>
</code></pre></div><ul><li>与严格相等一样，在映射中用作键和值的对象及其他“集合”类型，在自己的内容或属性被修改时仍然保持不变</li> <li>SameValueZero比较也可能导致意想不到的冲突；SameValueZero是ECMAScript规范新增的相等性比较算法。关于ECMAScript的相等性比较，可以参考MDN文档中的文章“Equality Comparisons and Sameness”</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> m <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> objKey <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
      objVal <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
      arrKey <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      arrVal <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

m<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>objKey<span class="token punctuation">,</span> objVal<span class="token punctuation">)</span><span class="token punctuation">;</span>
m<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>arrKey<span class="token punctuation">,</span> arrVal<span class="token punctuation">)</span><span class="token punctuation">;</span>

objKey<span class="token punctuation">.</span>foo <span class="token operator">=</span> <span class="token string">&quot;foo&quot;</span><span class="token punctuation">;</span>
objVal<span class="token punctuation">.</span>bar <span class="token operator">=</span> <span class="token string">&quot;bar&quot;</span><span class="token punctuation">;</span>
arrKey<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">&quot;foo&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
arrVal<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">&quot;bar&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>m<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>objKey<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// {bar: &quot;bar&quot;}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>m<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>arrKey<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [&quot;bar&quot;]</span>

<span class="token keyword">const</span> m <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token number">0</span><span class="token operator">/</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span> <span class="token comment">// NaN</span>
      b <span class="token operator">=</span> <span class="token number">0</span><span class="token operator">/</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span> <span class="token comment">// NaN</span>
      pz <span class="token operator">=</span> <span class="token operator">+</span><span class="token number">0</span><span class="token punctuation">,</span>
      nz <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">0</span><span class="token punctuation">;</span>

<span class="token function">alert</span><span class="token punctuation">(</span>a <span class="token operator">===</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// false</span>
<span class="token function">alert</span><span class="token punctuation">(</span>pz <span class="token operator">===</span> nz<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>

m<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> <span class="token string">&quot;foo&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
m<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>pz<span class="token punctuation">,</span> <span class="token string">&quot;bar&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">alert</span><span class="token punctuation">(</span>m<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// foo</span>
<span class="token function">alert</span><span class="token punctuation">(</span>m<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>nz<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// bar</span>
</code></pre></div><h3 id="顺序与迭代"><a href="#顺序与迭代" class="header-anchor">#</a> 顺序与迭代</h3> <ul><li><code>Map</code> 实例会维护键值对的插入顺序，因此可以根据插入顺序执行迭代操作。映射实例可以提供一个迭代器（<code>Iterator</code> ），能以插入顺序生成<code>[key, value]</code> 形式的数组。可以通过<code>entries()</code> 方法取得这个迭代器</li> <li>因为<code>entries()</code> 是默认迭代器，所以可以直接对映射实例使用扩展操作<code>...m</code>，把映射转换为数组</li> <li>如果不使用迭代器，而是使用回调方式，则可以调用映射的<code>forEach(callback, opt_thisArg)</code> 方法并传入回调，依次迭代每个键/值对。传入的回调接收可选的第二个参数，这个参数用于重写回调内部<code>this</code> 的值</li> <li><code>keys()</code> 和<code>values()</code> 分别返回以插入顺序生成键和值的迭代器；键和值在迭代器遍历时是可以修改的，但映射内部的引用则无法修改。当然，这并不妨碍修改作为键或值的对象内部的属性，因为这样并不影响它们在映射实例中的身份</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> m1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
  <span class="token punctuation">[</span><span class="token string">&quot;key1&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;val1&quot;</span><span class="token punctuation">]</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 作为键的字符串原始值是不能修改的</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> key <span class="token keyword">of</span> m1<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  key <span class="token operator">=</span> <span class="token string">&quot;newKey&quot;</span><span class="token punctuation">;</span>
  <span class="token function">alert</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>             <span class="token comment">// newKey</span>
  <span class="token function">alert</span><span class="token punctuation">(</span>m1<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;key1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// val1</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> keyObj <span class="token operator">=</span> <span class="token punctuation">{</span>id<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> m <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
  <span class="token punctuation">[</span>keyObj<span class="token punctuation">,</span> <span class="token string">&quot;val1&quot;</span><span class="token punctuation">]</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 修改了作为键的对象的属性，但对象在映射内部仍然引用相同的值</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> key <span class="token keyword">of</span> m<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  key<span class="token punctuation">.</span>id <span class="token operator">=</span> <span class="token string">&quot;newKey&quot;</span><span class="token punctuation">;</span>
  <span class="token function">alert</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">// {id: &quot;newKey&quot;}</span>
  <span class="token function">alert</span><span class="token punctuation">(</span>m<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>keyObj<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// val1</span>
<span class="token punctuation">}</span>
<span class="token function">alert</span><span class="token punctuation">(</span>keyObj<span class="token punctuation">)</span><span class="token punctuation">;</span>           <span class="token comment">// {id: &quot;newKey&quot;}</span>
</code></pre></div><h3 id="选择object还是map"><a href="#选择object还是map" class="header-anchor">#</a> 选择Object还是Map</h3> <ul><li>内存占用：给定固定大小的内存，<code>Map</code> 大约可以比<code>Object</code> 多存储50%的键/值对</li> <li>插入性能：向<code>Object</code> 和<code>Map</code> 中插入新键/值对时，Map稍快一点</li> <li>查找性能：若仅包含少量键值对，<code>Object</code>查询速度更快</li> <li>删除性能：若涉及大量删除操作，<code>Map</code>是更好的选择</li></ul> <h2 id="weakmap"><a href="#weakmap" class="header-anchor">#</a> WeakMap</h2> <ul><li>ECMAScript 6新增的“弱映射”（<code>WeakMap</code> ）是一种新的集合类型，为这门语言带来了增强的键/值对存储机制。<code>WeakMap</code> 是<code>Map</code> 的“兄弟”类型，其API也是<code>Map</code> 的子集。<code>WeakMap</code> 中的“weak”（弱），描述的是JavaScript垃圾回收程序对待“弱映射”中键的方式</li> <li>WeakMap的设计目的在于，有时我们想在某个对象上面存放一些数据，但是这会形成对于这个对象的引用。一旦不再需要这两个对象，我们就必须手动删除这个引用，否则垃圾回收机制就不会释放对象占用的内存</li> <li>WeakMap只有四个方法可以使用：get(),set(),has(),delete()，没有遍历方法和清空方法</li> <li>WeakMap应用的典型场合就是Dom节点作为键名，另一个用处是部署私有属性</li> <li>更多用法请参考：https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/WeakMap</li></ul> <h2 id="set"><a href="#set" class="header-anchor">#</a> Set</h2> <ul><li><p>使用<code>new</code> 关键字和<code>Set</code> 构造函数可以创建一个空集合，如果想在创建的同时初始化实例，则可以给<code>Set</code> 构造函数传入一个可迭代对象，其中需要包含插入到新集合实例中的元素</p></li> <li><p>初始化之后，可以使用<code>add()</code> 增加值，使用<code>has()</code> 查询，通过<code>size</code> 取得元素数量，以及使用<code>delete()</code> 和<code>clear()</code> 删除元素</p></li> <li><p><code>add()</code> 返回集合的实例，所以可以将多个添加操作连缀起来，包括初始化</p></li> <li><p><code>add()</code> 和<code>delete()</code> 操作是幂等的。<code>delete()</code> 返回一个布尔值，表示集合中是否存在要删除的值</p></li> <li><p><code>Set</code> 会维护值插入时的顺序，因此支持按顺序迭代</p></li></ul> <h2 id="weakset"><a href="#weakset" class="header-anchor">#</a> WeakSet</h2> <ul><li>弱集合中的值只能是<code>Object</code> 或者继承自<code>Object</code> 的类型，尝试使用非对象设置值会抛出<code>TypeError</code></li></ul> <h2 id="迭代与扩展操作"><a href="#迭代与扩展操作" class="header-anchor">#</a> 迭代与扩展操作</h2> <ul><li>ECMAScript 6新增的迭代器和扩展操作符对集合引用类型特别有用。<code>Array</code>、所有定型数组、<code>Map</code>, <code>Set</code>原生集合类型定义了默认迭代器，意味着上述所有类型都支持顺序迭代，都可以传入<code>for-of</code> 循环</li></ul> <h2 id="小结"><a href="#小结" class="header-anchor">#</a> 小结</h2> <p>JavaScript中的对象是引用值，可以通过几种内置引用类型创建特定类型的对象。</p> <ul><li>引用类型与传统面向对象编程语言中的类相似，但实现不同。</li> <li><code>Object</code> 类型是一个基础类型，所有引用类型都从它继承了基本的行为。</li> <li><code>Array</code> 类型表示一组有序的值，并提供了操作和转换值的能力。</li> <li>定型数组包含一套不同的引用类型，用于管理数值在内存中的类型。</li> <li><code>Date</code> 类型提供了关于日期和时间的信息，包括当前日期和时间以及计算。</li> <li><code>RegExp</code> 类型是ECMAScript支持的正则表达式的接口，提供了大多数基本正则表达式以及一些高级正则表达式的能力。</li></ul> <p>JavaScript比较独特的一点是，函数其实是<code>Function</code> 类型的实例，这意味着函数也是对象。由于函数是对象，因此也就具有能够增强自身行为的方法。</p> <p>因为原始值包装类型的存在，所以JavaScript中的原始值可以拥有类似对象的行为。有3种原始值包装类型：<code>Boolean</code> 、<code>Number</code> 和<code>String</code> 。它们都具有如下特点。</p> <ul><li>每种包装类型都映射到同名的原始类型。</li> <li>在以读模式访问原始值时，后台会实例化一个原始值包装对象，通过这个对象可以操作数据。</li> <li>涉及原始值的语句只要一执行完毕，包装对象就会立即销毁。</li></ul> <p>JavaScript还有两个在一开始执行代码时就存在的内置对象：<code>Global</code> 和<code>Math</code> 。其中，<code>Global</code> 对象在大多数ECMAScript实现中无法直接访问。不过浏览器将<code>Global</code> 实现为<code>window</code> 对象。所有全局变量和函数都是<code>Global</code> 对象的属性。<code>Math</code> 对象包含辅助完成复杂数学计算的属性和方法。</p> <p>ECMAScript 6新增了一批引用类型：<code>Map</code> 、<code>WeakMap</code> 、<code>Set</code> 和<code>WeakSet</code> 。这些类型为组织应用程序数据和简化内存管理提供了新能力。</p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">最后更新:</span> <span class="time">3/24/2022, 4:29:19 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/vuepressBlog/techNote/engineering/JavaScript/Chap5.html" class="prev">
        Chap5 基本引用类型
      </a></span> <span class="next"><a href="/vuepressBlog/techNote/engineering/JavaScript/Chap7.html">
        Chap7 迭代器与生成器
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----><div id="live2d-widget" class="live2d-widget-container" style="position:fixed;right:65px;bottom:0px;width:135px;height:300px;z-index:99999;opacity:0.8;pointer-events:none;"><canvas id="live2d_canvas" width="135" height="300" class="live2d_canvas" style="position:absolute;left:0px;top:0px;width:135px;height:300px;"></canvas></div></div></div>
    <script src="/vuepressBlog/assets/js/app.f56b1216.js" defer></script><script src="/vuepressBlog/assets/js/2.ab72813d.js" defer></script><script src="/vuepressBlog/assets/js/86.3596a245.js" defer></script>
  </body>
</html>
